<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <script type="importmap">
    {
          "imports": {
            "autoGenerateBskElement": "/js/bluesky-elements/base/auto-generate-element.js",
            "petite-vue" : "https://unpkg.com/petite-vue?module"
          }
        }
      </script>

  </script>
</head>

<body>
  <bsk-example message="really last thing!"></bsk-example>

  <!-- <template bsk-element="bsk-example">
    <style>
      h1 {
        color: red;
      }
    </style>
    <h1>Example</h1>
    <p>tester</p>
  </template> -->
  <script type="module">
    import { autoGenerateBskElement }  from "autoGenerateBskElement";

    // const html = /*html*/ `<p>Passing to state obj</p>`

      const bskExample = {
        message : "Hello World",
        $template : /*html*/`
        <h1>{{message || 'Template Example Baby!'}}</h1>`,
    }


    editAndPass({bskExample})

    function editAndPass(components) {
      // messing about with checking if custom element exists
      console.log(customElements.get("bsk-example"));
      if (customElements.get("bsk-example")) {
        return
      }

      const obj = components[Object.keys(components)[0]];
      const toKebabCase = (str) => {
        return str.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase();
      };
      obj.tagName = toKebabCase(Object.keys(components)[0]);
      autoGenerateBskElement(obj);
    }


    // const tagName = toKebabCase(Object.keys(arg)[0])
    // console.log(Object.keys(arg)[0]);
    // console.log(`    autoGenerateBskElements([{${tagName}, ${arg}}]);`);

    // autoGenerateBskElement({arg});



    // console.log(document.querySelector("[bsk-example]"));

    // generate([{tagName, stateObjectAbove}])
  </script>
</body>

</html>